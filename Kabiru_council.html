<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>KABIRU GOVERNING COUNCIL ‚Äî New Africa Digital Ecosystem</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Rajdhani:wght@300;400;500;600;700&family=Source+Sans+3:ital,wght@0,300;0,400;0,600;1,300&display=swap" rel="stylesheet"/>

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
/* ===== RESET & ROOT ===== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --gold:        #c9a84c;
  --gold-light:  #e4c97a;
  --gold-dim:    #8a7233;
  --ink:         #0a0a0f;
  --ink-mid:     #1a1a25;
  --ink-soft:    #2a2a38;
  --slate:       #3d3d52;
  --mist:        #c8c8d4;
  --fog:         #e8e8f0;
  --cream:       #f5f2eb;
  --red-accent:  #c0392b;
  --teal:        #1abc9c;
  --sky:         #3498db;
  --font-head:   'Cinzel', serif;
  --font-sub:    'Rajdhani', sans-serif;
  --font-body:   'Source Sans 3', sans-serif;
}

html { scroll-behavior: smooth; }
body {
  font-family: var(--font-body);
  background: var(--ink);
  color: var(--fog);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.55;
}

/* ===== NOISE OVERLAY ===== */
body::before {
  content:'';
  position: fixed; inset: 0; z-index: 0;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
  pointer-events: none;
}

/* ===== HERO / HEADER ===== */
.hero {
  position: relative; z-index: 1;
  background: linear-gradient(160deg, #0d0d14 0%, #131320 40%, #0a0a0f 100%);
  border-bottom: 1px solid rgba(201,168,76,.18);
  padding: 80px 24px 60px;
  text-align: center;
  overflow: hidden;
}
.hero::before {
  content:'';
  position: absolute; top: -120px; left: 50%; transform: translateX(-50%);
  width: 700px; height: 700px;
  background: radial-gradient(circle, rgba(201,168,76,.08) 0%, transparent 70%);
  pointer-events: none;
}
.hero-badge {
  display: inline-block;
  border: 1px solid var(--gold-dim);
  color: var(--gold-light);
  font-family: var(--font-sub);
  font-weight: 600;
  font-size: 11px;
  letter-spacing: 3.5px;
  text-transform: uppercase;
  padding: 6px 20px;
  border-radius: 30px;
  margin-bottom: 28px;
  position: relative;
}
.hero h1 {
  font-family: var(--font-head);
  font-size: clamp(2.2rem, 5vw, 3.8rem);
  font-weight: 800;
  color: var(--fog);
  letter-spacing: 2px;
  line-height: 1.15;
  position: relative;
}
.hero h1 .gold { color: var(--gold); }
.hero-sub {
  font-family: var(--font-sub);
  font-weight: 300;
  font-size: 15px;
  color: var(--mist);
  letter-spacing: 4px;
  text-transform: uppercase;
  margin-top: 14px;
  position: relative;
}
.hero-divider {
  width: 80px; height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 30px auto 0;
  position: relative;
}

/* ===== THREE STONES BANNER ===== */
.stones-bar {
  position: relative; z-index: 1;
  display: flex; justify-content: center; gap: 12px;
  flex-wrap: wrap;
  padding: 36px 24px;
  background: linear-gradient(180deg, #0d0d14, #111118);
  border-bottom: 1px solid rgba(201,168,76,.1);
}
.stone-pill {
  display: flex; align-items: center; gap: 10px;
  background: rgba(201,168,76,.06);
  border: 1px solid rgba(201,168,76,.2);
  border-radius: 40px;
  padding: 10px 22px;
  transition: background .3s, border-color .3s, transform .2s;
  cursor: default;
}
.stone-pill:hover {
  background: rgba(201,168,76,.13);
  border-color: var(--gold);
  transform: translateY(-2px);
}
.stone-icon {
  width: 32px; height: 32px;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 15px;
}
.stone-icon.dc  { background: linear-gradient(135deg,#1abc9c,#16a085); }
.stone-icon.sb  { background: linear-gradient(135deg,#e67e22,#d35400); }
.stone-icon.ca  { background: linear-gradient(135deg,#8e44ad,#6c3483); }
.stone-label {
  font-family: var(--font-sub);
  font-weight: 600;
  font-size: 13px;
  color: var(--gold-light);
  letter-spacing: 1px;
}
.stone-label small {
  display: block;
  font-weight: 300;
  font-size: 10.5px;
  color: var(--slate);
  letter-spacing: 0.5px;
  margin-top: 1px;
}

/* ===== NAV TABS ===== */
.nav-tabs {
  position: sticky; top: 0; z-index: 100;
  background: rgba(10,10,15,.88);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(201,168,76,.12);
  display: flex; justify-content: center; gap: 4px;
  padding: 10px 16px;
  flex-wrap: wrap;
}
.nav-tab {
  font-family: var(--font-sub);
  font-weight: 600;
  font-size: 12px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--slate);
  background: none; border: 1px solid transparent;
  padding: 8px 18px;
  border-radius: 24px;
  cursor: pointer;
  transition: all .25s;
}
.nav-tab:hover, .nav-tab.active {
  color: var(--gold-light);
  border-color: rgba(201,168,76,.35);
  background: rgba(201,168,76,.07);
}

/* ===== SECTION TITLES ===== */
.section { position: relative; z-index: 1; padding: 60px 24px; }
.section-title {
  text-align: center;
  font-family: var(--font-head);
  font-size: clamp(1.4rem, 3vw, 1.9rem);
  font-weight: 600;
  color: var(--fog);
  letter-spacing: 2px;
  margin-bottom: 8px;
}
.section-title .gold { color: var(--gold); }
.section-subtitle {
  text-align: center;
  font-family: var(--font-sub);
  font-size: 12px;
  color: var(--slate);
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 40px;
}

/* ===== TIER BADGES ===== */
.tier-badge {
  display: inline-block;
  font-family: var(--font-sub);
  font-weight: 700;
  font-size: 9.5px;
  letter-spacing: 2px;
  text-transform: uppercase;
  padding: 3px 10px;
  border-radius: 12px;
  white-space: nowrap;
}
.tier-executive  { background: rgba(201,168,76,.18); color: var(--gold-light); border: 1px solid rgba(201,168,76,.35); }
.tier-primary    { background: rgba(26,188,156,.14); color: #5de8ca; border: 1px solid rgba(26,188,156,.3); }
.tier-secondary  { background: rgba(52,152,219,.14); color: #7bb8e8; border: 1px solid rgba(52,152,219,.3); }
.tier-tertiary   { background: rgba(155,89,182,.14); color: #c39bd3; border: 1px solid rgba(155,89,182,.3); }

/* ===== COUNCIL CARDS GRID ===== */
.cards-grid {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 18px;
}
.card {
  background: linear-gradient(145deg, #161621, #12121a);
  border: 1px solid rgba(201,168,76,.12);
  border-radius: 16px;
  padding: 26px 22px 20px;
  position: relative;
  overflow: hidden;
  transition: border-color .3s, transform .25s, box-shadow .3s;
  cursor: pointer;
}
.card:hover {
  border-color: rgba(201,168,76,.38);
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,.4);
}
.card::before {
  content:'';
  position: absolute; top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  opacity: 0;
  transition: opacity .3s;
}
.card:hover::before { opacity: 1; }

.card-header { display: flex; align-items: flex-start; gap: 14px; }
.card-avatar {
  width: 48px; height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--gold-dim), var(--gold));
  display: flex; align-items: center; justify-content: center;
  font-family: var(--font-head);
  font-weight: 800;
  font-size: 18px;
  color: var(--ink);
  flex-shrink: 0;
  box-shadow: 0 0 12px rgba(201,168,76,.25);
}
.card-avatar.exec { background: linear-gradient(135deg, #c9a84c, #f0d78c); box-shadow: 0 0 18px rgba(201,168,76,.4); }
.card-avatar.chair { background: linear-gradient(135deg, #8e44ad, #bb8fce); }

.card-info { flex: 1; min-width: 0; }
.card-name {
  font-family: var(--font-sub);
  font-weight: 700;
  font-size: 15.5px;
  color: var(--fog);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.card-title {
  font-family: var(--font-sub);
  font-weight: 400;
  font-size: 11.5px;
  color: var(--gold);
  letter-spacing: 0.5px;
  margin-top: 2px;
}
.card-tiers { margin-top: 8px; display: flex; gap: 5px; flex-wrap: wrap; }

.card-expand {
  overflow: hidden;
  max-height: 0;
  transition: max-height .45s cubic-bezier(.4,0,.2,1), opacity .3s;
  opacity: 0;
}
.card.open .card-expand { max-height: 600px; opacity: 1; }
.card-expand-inner { padding-top: 18px; border-top: 1px solid rgba(201,168,76,.1); margin-top: 14px; }
.card-expand-inner h4 {
  font-family: var(--font-sub);
  font-weight: 600;
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--gold-dim);
  margin-bottom: 6px;
  margin-top: 14px;
}
.card-expand-inner h4:first-child { margin-top: 0; }
.card-expand-inner p, .card-expand-inner li {
  font-size: 13px;
  color: var(--mist);
  line-height: 1.6;
}
.card-expand-inner ul { list-style: none; padding: 0; }
.card-expand-inner ul li::before {
  content: '‚ñ∏ ';
  color: var(--gold);
}

.card-toggle {
  text-align: right;
  margin-top: 10px;
  font-family: var(--font-sub);
  font-size: 11px;
  color: var(--gold-dim);
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

/* ===== INTERACTIVE TABLE ===== */
.table-wrap {
  max-width: 1200px;
  margin: 0 auto;
  overflow-x: auto;
  border-radius: 14px;
  border: 1px solid rgba(201,168,76,.15);
  background: linear-gradient(170deg, #141420, #0f0f16);
}
table {
  width: 100%;
  border-collapse: collapse;
  font-family: var(--font-body);
  font-size: 13.5px;
  color: var(--mist);
}
table thead {
  background: linear-gradient(90deg, #1a1a28, #16161f);
  border-bottom: 1px solid rgba(201,168,76,.2);
}
table thead th {
  font-family: var(--font-sub);
  font-weight: 600;
  font-size: 10.5px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--gold);
  padding: 16px 18px;
  text-align: left;
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  position: relative;
}
table thead th:hover { color: var(--gold-light); }
table thead th .sort-icon { margin-left: 4px; opacity: .4; font-size: 10px; }
table tbody tr {
  border-bottom: 1px solid rgba(255,255,255,.04);
  transition: background .2s;
}
table tbody tr:hover { background: rgba(201,168,76,.04); }
table tbody td { padding: 13px 18px; vertical-align: middle; }
.td-rank {
  font-family: var(--font-head);
  font-weight: 800;
  font-size: 15px;
  color: var(--gold);
  width: 36px;
}
.td-name { font-weight: 600; color: var(--fog); }
.td-portfolio { color: var(--mist); }
.td-tier { }

/* ===== SEARCH BAR ===== */
.search-bar {
  max-width: 500px;
  margin: 0 auto 36px;
  position: relative;
}
.search-bar input {
  width: 100%;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(201,168,76,.18);
  border-radius: 30px;
  padding: 12px 48px 12px 22px;
  color: var(--fog);
  font-family: var(--font-body);
  font-size: 14px;
  outline: none;
  transition: border-color .3s, background .3s;
}
.search-bar input::placeholder { color: var(--slate); }
.search-bar input:focus {
  border-color: var(--gold);
  background: rgba(255,255,255,.07);
}
.search-icon {
  position: absolute; right: 18px; top: 50%;
  transform: translateY(-50%);
  color: var(--slate);
  font-size: 16px;
  pointer-events: none;
}

/* ===== FILTER PILLS ===== */
.filter-row {
  display: flex; justify-content: center; gap: 8px; flex-wrap: wrap;
  margin-bottom: 32px;
}
.filter-pill {
  font-family: var(--font-sub);
  font-weight: 600;
  font-size: 11px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--slate);
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 22px;
  padding: 7px 16px;
  cursor: pointer;
  transition: all .25s;
}
.filter-pill:hover { border-color: var(--gold-dim); color: var(--gold-light); }
.filter-pill.active {
  background: rgba(201,168,76,.12);
  border-color: var(--gold);
  color: var(--gold-light);
}

/* ===== STATS ROW ===== */
.stats-row {
  max-width: 900px;
  margin: 0 auto 50px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px,1fr));
  gap: 14px;
}
.stat-box {
  background: linear-gradient(145deg, #161621, #12121a);
  border: 1px solid rgba(201,168,76,.13);
  border-radius: 14px;
  padding: 22px 18px;
  text-align: center;
}
.stat-box .stat-num {
  font-family: var(--font-head);
  font-size: 30px;
  font-weight: 800;
  color: var(--gold);
  line-height: 1;
}
.stat-box .stat-label {
  font-family: var(--font-sub);
  font-size: 10.5px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--slate);
  margin-top: 8px;
}

/* ===== PDF DOWNLOAD BTN ===== */
.pdf-btn-wrap { text-align: center; margin: 50px 0 20px; }
.pdf-btn {
  display: inline-flex; align-items: center; gap: 10px;
  background: linear-gradient(135deg, var(--gold-dim), var(--gold));
  color: var(--ink);
  font-family: var(--font-sub);
  font-weight: 700;
  font-size: 13px;
  letter-spacing: 2px;
  text-transform: uppercase;
  border: none;
  padding: 14px 34px;
  border-radius: 32px;
  cursor: pointer;
  transition: transform .2s, box-shadow .3s, filter .2s;
  box-shadow: 0 4px 20px rgba(201,168,76,.3);
}
.pdf-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(201,168,76,.45);
  filter: brightness(1.08);
}
.pdf-btn svg { width: 18px; height: 18px; }
#pdf-status {
  font-family: var(--font-sub);
  font-size: 12px;
  color: var(--slate);
  margin-top: 10px;
  min-height: 18px;
  text-align: center;
}

/* ===== FOOTER ===== */
.footer {
  position: relative; z-index: 1;
  text-align: center;
  padding: 44px 24px;
  border-top: 1px solid rgba(201,168,76,.1);
  background: linear-gradient(180deg, #0a0a0f, #070709);
}
.footer p {
  font-family: var(--font-sub);
  font-size: 11px;
  color: var(--slate);
  letter-spacing: 1.5px;
}
.footer .footer-gold { color: var(--gold-dim); }

/* ===== SCROLL REVEAL ===== */
.reveal {
  opacity: 0;
  transform: translateY(22px);
  transition: opacity .6s ease, transform .6s ease;
}
.reveal.visible { opacity: 1; transform: translateY(0); }

/* ===== RESPONSIVE ===== */
@media (max-width: 600px) {
  .cards-grid { grid-template-columns: 1fr; }
  .hero { padding: 50px 18px 40px; }
  .stats-row { grid-template-columns: repeat(2,1fr); }
}

/* ===== PDF CAPTURE AREA (off-screen) ===== */
#pdf-capture {
  position: absolute;
  left: -9999px;
  top: 0;
  width: 1100px;
  background: #fff;
  color: #111;
  font-family: var(--font-body);
  padding: 0;
  pointer-events: none;
  z-index: -1;
}
#pdf-capture .pdf-page {
  width: 1100px;
  min-height: 1500px;
  padding: 70px 70px 50px;
  box-sizing: border-box;
  page-break-after: always;
  position: relative;
}
#pdf-capture .pdf-page-break { page-break-after: always; }
#pdf-capture .pdf-header {
  text-align: center;
  border-bottom: 2px solid #c9a84c;
  padding-bottom: 24px;
  margin-bottom: 28px;
}
#pdf-capture .pdf-header h1 {
  font-family: var(--font-head);
  font-size: 28px;
  color: #1a1a25;
  letter-spacing: 2px;
}
#pdf-capture .pdf-header p {
  font-family: var(--font-sub);
  font-size: 11px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: #8a7233;
  margin-top: 4px;
}
#pdf-capture .pdf-section-title {
  font-family: var(--font-head);
  font-size: 17px;
  color: #1a1a25;
  border-left: 4px solid #c9a84c;
  padding-left: 14px;
  margin: 28px 0 16px;
}
#pdf-capture table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
  color: #333;
}
#pdf-capture table th {
  background: #f0ece3;
  color: #8a7233;
  font-family: var(--font-sub);
  font-weight: 700;
  font-size: 10px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  padding: 10px 12px;
  text-align: left;
  border-bottom: 2px solid #c9a84c;
}
#pdf-capture table td {
  padding: 9px 12px;
  border-bottom: 1px solid #e0ddd6;
  vertical-align: top;
}
#pdf-capture table tr:nth-child(even) td { background: #faf8f4; }
#pdf-capture .pdf-tier {
  display: inline-block;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 2px 7px;
  border-radius: 8px;
}
#pdf-capture .pdf-tier.exec  { background: #fdf3d0; color: #8a7233; }
#pdf-capture .pdf-tier.pri   { background: #d4f5ec; color: #16a085; }
#pdf-capture .pdf-tier.sec   { background: #d6eaf8; color: #2980b9; }
#pdf-capture .pdf-tier.ter   { background: #e8daef; color: #7d3c98; }
#pdf-capture .pdf-stones {
  display: flex; gap: 24px; justify-content: center;
  margin: 20px 0;
}
#pdf-capture .pdf-stone {
  flex: 1;
  border: 1px solid #c9a84c;
  border-radius: 10px;
  padding: 14px;
  text-align: center;
  background: #fdfbf5;
}
#pdf-capture .pdf-stone h3 {
  font-family: var(--font-head);
  font-size: 13px;
  color: #1a1a25;
  margin-bottom: 4px;
}
#pdf-capture .pdf-stone p {
  font-size: 10.5px;
  color: #666;
}
#pdf-capture .pdf-footer {
  text-align: center;
  margin-top: 40px;
  padding-top: 16px;
  border-top: 1px solid #ddd;
  font-size: 10px;
  color: #999;
  font-family: var(--font-sub);
  letter-spacing: 1px;
}
</style>
</head>
<body>

<!-- ===== HERO ===== -->
<header class="hero">
  <div class="hero-badge"> Revolutionise economic values to earn Kabiru Token. build your space in the Pan-African Digital Awakening Ecosystem</div>
  <h1><span class="gold">KABIRU</span><br/>Governing Council</h1>
  <p class="hero-sub">New Africa Digital Ecosystem</p>
  <div class="hero-divider"></div>
</header>

<!-- ===== THREE STONES ===== -->
<section class="stones-bar">
  <div class="stone-pill">
    <div class="stone-icon dc">üíé</div>
    <div class="stone-label">Kabiru, Digital Value Currency<small>Digital Value Pools</small></div>
  </div>
  <div class="stone-pill">
    <div class="stone-icon sb">üìñ</div>
    <div class="stone-label">Sulwe, Black Star Liner<small>African Roots, Genealogy & integration</small></div>
  </div>
  <div class="stone-pill">
    <div class="stone-icon ca">üìÖ</div>
    <div class="stone-label">Calenda, The African Calendar<small>New/Old Calendar, New Economy</small></div>
  </div>
</section>

<!-- ===== NAV ===== -->
<nav class="nav-tabs">
  <button class="nav-tab active" onclick="scrollTo('overview')">Overview</button>
  <button class="nav-tab" onclick="scrollTo('council-cards')">Council Cards</button>
  <button class="nav-tab" onclick="scrollTo('full-table')">Full Registry</button>
  <button class="nav-tab" onclick="scrollTo('tier-breakdown')">Tier Structure</button>
  <button class="nav-tab" onclick="scrollTo('download')">PDF Export</button>
</nav>

<!-- ===== OVERVIEW / STATS ===== -->
<section id="overview" class="section">
  <h2 class="section-title">Council <span class="gold">at a Glance</span></h2>
  <p class="section-subtitle">Leadership Structure ¬∑ TAU Ecosystem</p>
  <div class="stats-row reveal">
    <div class="stat-box"><div class="stat-num">20</div><div class="stat-label">Council Members</div></div>
    <div class="stat-box"><div class="stat-num">4</div><div class="stat-label">Tier Levels</div></div>
    <div class="stat-box"><div class="stat-num">3</div><div class="stat-label">Stones of New Black Economy</div></div>
    <div class="stat-box"><div class="stat-num">18</div><div class="stat-label">Active Portfolios</div></div>
  </div>
</section>

<!-- ===== COUNCIL CARDS ===== -->
<section id="council-cards" class="section">
  <h2 class="section-title">Council <span class="gold">Members</span></h2>
  <p class="section-subtitle">Click any card to expand roles & responsibilities</p>

  <!-- Search -->
  <div class="search-bar reveal">
    <input type="text" id="card-search" placeholder="Search by name or portfolio‚Ä¶" oninput="filterCards()"/>
    <span class="search-icon">üîç</span>
  </div>

  <!-- Filters -->
  <div class="filter-row reveal" id="card-filters">
    <button class="filter-pill active" onclick="setFilter('all',this)">All</button>
    <button class="filter-pill" onclick="setFilter('executive',this)">Executive</button>
    <button class="filter-pill" onclick="setFilter('primary',this)">Primary</button>
    <button class="filter-pill" onclick="setFilter('secondary',this)">Secondary</button>
    <button class="filter-pill" onclick="setFilter('tertiary',this)">Tertiary</button>
  </div>

  <div class="cards-grid" id="cards-grid"></div>
</section>

<!-- ===== FULL TABLE ===== -->
<section id="full-table" class="section">
  <h2 class="section-title">Full <span class="gold">Registry</span></h2>
  <p class="section-subtitle">Interactive sortable table ¬∑ All 20 members</p>
  <div class="search-bar reveal" style="max-width:420px;">
    <input type="text" id="table-search" placeholder="Search registry‚Ä¶" oninput="filterTable()"/>
    <span class="search-icon">üîç</span>
  </div>
  <div class="table-wrap reveal">
    <table id="registry-table">
      <thead>
        <tr>
          <th onclick="sortTable(0)">#&nbsp;<span class="sort-icon">‚áÖ</span></th>
          <th onclick="sortTable(1)">Name&nbsp;<span class="sort-icon">‚áÖ</span></th>
          <th onclick="sortTable(2)">Portfolio&nbsp;<span class="sort-icon">‚áÖ</span></th>
          <th onclick="sortTable(3)">Primary Role&nbsp;<span class="sort-icon">‚áÖ</span></th>
          <th onclick="sortTable(4)">Tier&nbsp;<span class="sort-icon">‚áÖ</span></th>
        </tr>
      </thead>
      <tbody id="registry-body"></tbody>
    </table>
  </div>
</section>

<!-- ===== TIER BREAKDOWN ===== -->
<section id="tier-breakdown" class="section" style="background: rgba(201,168,76,.02);">
  <h2 class="section-title">Tier <span class="gold">Structure</span></h2>
  <p class="section-subtitle">Hierarchy & Responsibilities</p>
  <div class="table-wrap reveal" style="max-width:860px;">
    <table>
      <thead>
        <tr>
          <th>Tier</th>
          <th>Designation</th>
          <th>Scope & Responsibility</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="tier-badge tier-executive">Executive</span></td>
          <td style="color:var(--gold-light);font-weight:600;">Executive Leader & Chair</td>
          <td>Supreme oversight, vision, strategic direction of the entire ecosystem. Chairs all council sessions. Final authority on policy and resource allocation.</td>
          <td style="color:var(--gold);font-weight:700;">2</td>
        </tr>
        <tr>
          <td><span class="tier-badge tier-primary">Primary</span></td>
          <td style="color:#5de8ca;font-weight:600;">General Secretary & Core Secretaries</td>
          <td>Lead critical operational portfolios ‚Äî Finance, Digital Ecosystem, Security, General Secretariat. Directly report to Executive tier. Manage sub-teams and budgets.</td>
          <td style="color:var(--teal);font-weight:700;">6</td>
        </tr>
        <tr>
          <td><span class="tier-badge tier-secondary">Secondary</span></td>
          <td style="color:#7bb8e8;font-weight:600;">Operational Secretaries</td>
          <td>Oversee specialised portfolios: Procurement, Marketing, Trade, AI & Tech, Publications, Natural Healthcare. Implement directives from Primary tier.</td>
          <td style="color:var(--sky);font-weight:700;">7</td>
        </tr>
        <tr>
          <td><span class="tier-badge tier-tertiary">Tertiary</span></td>
          <td style="color:#c39bd3;font-weight:600;">Support & Specialist Secretaries</td>
          <td>Focused specialist roles: Community Outreach, Chief Architect, Languages & Etymology, Land & Real Estate, Culture & Hospitality. Ground-level execution and community engagement.</td>
          <td style="color:#c39bd3;font-weight:700;">5</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
<!-- ===== FOOTER ===== -->
<footer class="footer">
  <p class="footer-gold">‚ü° KABIRU EXECUTIVE COUNCIL ‚ü°</p>
  <p style="margin-top:6px;">TAU Africa Digital Ecosystem ¬∑ Three Stones of the New Black Economy</p>
  <p style="margin-top:4px;opacity:.6;">¬© 2025 Kabiru Ecosystem. All rights reserved.</p>
</footer>


<!-- ===== SCRIPT ===== -->
<script>
// ========================================================
// DATA
// ========================================================
const council = [
  {
    rank: 1,
    name: "John Otieno Onyango",
    title: "Executive Leader of the Council",
    portfolio: "Founder, Visionary, Establisher & Oversight",
    tier: "executive",
    avatar: "JO",
    avatarClass: "exec",
    primary: "Founding visionary, final guidance oversight over the entire Ecosystem and Kabiru Digital value Currency. Principal sign-off on all strategic initiatives, partnerships, and policy directions.",
    secondary: "Chairs the Supreme Council sessions. Represents the Ecosystem at the highest external forums. Mentors all Council Secretaries and ensures alignment with the founding vision.",
    tertiary: "Inspires ecosystem culture. Provides guidance on long-term cultural and economic direction tied to the Three Stones.",
    keyResponsibilities: [
      "Establish and uphold the founding philosophy of the Kabiru Ecosystem",
      "Approve all major policy, financial, and strategic decisions",
      "Represent TAU Africa at international and continental forums",
      "Ensure the integrity and growth of the Digital Currency, Sulwe Book, and Calenda",
      "Mentor and guide all Council Secretaries"
    ]
  },
  {
    rank: 2,
    name: "Wellington Ochieng Aywak",
    title: "Chair of the Council",
    portfolio: "Ecosystem Integrated Office, Transport / Logistics",
    tier: "executive",
    avatar: "WO",
    avatarClass: "chair",
    primary: "Chair Council meetings and sessions. Oversee the Ecosystem Integrated Office ‚Äî the central operational hub coordinating all departments. Manage national and international transport and logistics chains.",
    secondary: "Liaise between the Executive Leader and all Primary-tier Secretaries. Ensure seamless information flow and operational continuity across portfolios.",
    tertiary: "Supervise logistical support for ecosystem-wide events, launches (especially Digital Currency rollout), and community outreach campaigns.",
    keyResponsibilities: [
      "Chair and moderate all official Council meetings and votes",
      "Oversee the Integrated Office and cross-departmental coordination",
      "Manage transport, logistics, and supply-chain infrastructure",
      "Act as the principal liaison between the Executive Leader and the Council body",
      "Ensure timely delivery of ecosystem milestones"
    ]
  },
  {
    rank: 3,
    name: "Moses Oluoch Okoth",
    title: "General Secretary of the Council",
    portfolio: "Multimedia & Project Planning",
    tier: "primary",
    avatar: "MO",
    avatarClass: "",
    primary: "Serve as the chief administrative officer of the Council. Maintain all official records, minutes, and communications. Lead multimedia strategy and project planning across the Ecosystem.",
    secondary: "Coordinate project timelines, milestones, and deliverables for the launch of the Digital Currency, Sulwe Book, and Calenda. Oversee multimedia content production.",
    tertiary: "Archive all Council decisions and ensure transparency and accountability in documentation.",
    keyResponsibilities: [
      "Maintain official records, minutes, and governance documents",
      "Lead cross-cutting project planning and milestone tracking",
      "Direct multimedia content strategy and production",
      "Ensure compliance with Council governance protocols",
      "Act as primary custodian of all official Ecosystem communications"
    ]
  },
  {
    rank: 4,
    name: "Melkio Odhiambo Membo",
    title: "Council Secretary",
    portfolio: "Finance, Budgeting & Distribution of Resources",
    tier: "primary",
    avatar: "MM",
    avatarClass: "",
    primary: "Design and oversee the complete financial architecture of the Kabiru Ecosystem. Manage budgeting, revenue streams, and the economic framework underpinning the Digital Currency.",
    secondary: "Approve and monitor resource distribution across all Council portfolios. Develop financial sustainability plans for the Three Stones initiatives.",
    tertiary: "Prepare quarterly and annual financial reports. Liaise with external auditors and financial institutions.",
    keyResponsibilities: [
      "Design the fiscal framework for the Kabiru Digital Currency",
      "Manage ecosystem-wide budgets and resource allocation",
      "Oversee financial controls, audits, and compliance",
      "Develop revenue and sustainability models",
      "Report financial health to the Executive Leader and Chair"
    ]
  },
  {
    rank: 5,
    name: "Wanjiru Githunguri",
    title: "Council Secretary",
    portfolio: "Digital Ecosystem & Digital Economy",
    tier: "primary",
    avatar: "WG",
    avatarClass: "",
    primary: "Lead the development, architecture, and scaling of the entire TAU Digital Ecosystem. Spearhead the infrastructure and technology stack for the Kabiru Digital Currency.",
    secondary: "Oversee digital economy policy, including tokenomics, digital trade frameworks, and e-wallet integration. Coordinate with the AI & Tech Secretary.",
    tertiary: "Ensure cybersecurity standards and data governance across all digital platforms.",
    keyResponsibilities: [
      "Architect and scale the TAU Digital Ecosystem platforms",
      "Lead Digital Currency infrastructure and tokenomics",
      "Establish digital economy policy and standards",
      "Ensure cybersecurity and data governance",
      "Coordinate cross-portfolio digital integration"
    ]
  },
  {
    rank: 6,
    name: "Samuel Chege Wambui",
    title: "Council Secretary",
    portfolio: "Internal Affairs, Security & Farming",
    tier: "primary",
    avatar: "SW",
    avatarClass: "",
    primary: "Oversee internal governance, security protocols, and intelligence for the Ecosystem. Lead agricultural strategy and food-security programmes tied to the new Black Economy.",
    secondary: "Manage physical and cyber-security for all Council operations and ecosystem assets. Coordinate with relevant government agencies.",
    tertiary: "Develop sustainable farming initiatives that integrate with the Digital Currency payment ecosystem.",
    keyResponsibilities: [
      "Protect all Ecosystem assets ‚Äî physical, digital, and intellectual",
      "Lead internal-affairs governance and compliance",
      "Design and execute agricultural and food-security programmes",
      "Coordinate security with external agencies",
      "Integrate farming operations into the digital payment framework"
    ]
  },
  {
    rank: 7,
    name: "Matthias Justin Rajabu",
    title: "Council Secretary",
    portfolio: "Coordination, Public Relations & International Point of Contact",
    tier: "primary",
    avatar: "MR",
    avatarClass: "",
    primary: "Serve as the primary international representative of the Kabiru Ecosystem. Manage all public relations, diplomatic communications, and external partnerships.",
    secondary: "Coordinate cross-portfolio alignment and ensure unified messaging. Oversee media relations and public communications strategy.",
    tertiary: "Facilitate MoUs and partnership agreements with international organisations and governments.",
    keyResponsibilities: [
      "Represent TAU Africa internationally in diplomatic and business forums",
      "Lead public relations and external communications",
      "Coordinate cross-portfolio operational alignment",
      "Negotiate and manage international partnerships and MoUs",
      "Ensure brand consistency across all external touchpoints"
    ]
  },
  {
    rank: 8,
    name: "Muchiri Ole Kihara",
    title: "Council Secretary",
    portfolio: "Economic Growth",
    tier: "secondary",
    avatar: "MK",
    avatarClass: "",
    primary: "Design and implement economic-growth strategies for the Kabiru Ecosystem and the broader new Black Economy. Develop investment frameworks and growth metrics.",
    secondary: "Liaise with investors, development banks, and economic institutions. Monitor key performance indicators for ecosystem-wide economic health.",
    tertiary: "Produce economic-growth reports and recommendations for the Executive and Primary tiers.",
    keyResponsibilities: [
      "Design macroeconomic growth strategy for the Ecosystem",
      "Develop and manage investment frameworks",
      "Monitor economic KPIs and ecosystem performance",
      "Engage with development banks and economic institutions",
      "Report economic trends and growth outlook to the Council"
    ]
  },
  {
    rank: 9,
    name: "Emmah Wambugu Wamboi",
    title: "Council Secretary",
    portfolio: "Digital Marketing & Business Support",
    tier: "secondary",
    avatar: "EW",
    avatarClass: "",
    primary: "Lead all digital-marketing campaigns for the Kabiru Ecosystem and its Three Stones. Provide business support, mentorship, and incubation for micro-enterprises within the ecosystem.",
    secondary: "Develop growth-hacking strategies, SEO, social-media engagement, and brand-awareness campaigns. Manage marketing budgets and ROI tracking.",
    tertiary: "Support small businesses in adopting the Digital Currency and integrating into the TAU digital marketplace.",
    keyResponsibilities: [
      "Design and execute digital marketing campaigns for Kabiru and TAU",
      "Drive brand awareness for the Digital Currency, Sulwe Book, and Calenda",
      "Provide business incubation and support to ecosystem entrepreneurs",
      "Manage marketing budgets and measure campaign ROI",
      "Develop social-media and content-marketing strategy"
    ]
  },
  {
    rank: 10,
    name: "Joseph Muiruri Ndungu",
    title: "Council Secretary",
    portfolio: "Climate, Environment & Hygiene",
    tier: "secondary",
    avatar: "JN",
    avatarClass: "",
    primary: "Lead climate-action and environmental-sustainability programmes across the Ecosystem. Establish hygiene standards for all Kabiru facilities and community operations.",
    secondary: "Develop green-economy initiatives that align with the Digital Currency's value proposition. Coordinate with government environmental bodies.",
    tertiary: "Implement carbon-credit tracking and sustainability reporting tied to the Sulwe Book and Calenda records.",
    keyResponsibilities: [
      "Design climate-action and green-economy programmes",
      "Establish and enforce hygiene and environmental standards",
      "Integrate sustainability metrics into the Digital Currency",
      "Coordinate with national and international environmental bodies",
      "Produce sustainability and environmental-impact reports"
    ]
  },
  {
    rank: 11,
    name: "Fredrick Okwama Okech",
    title: "Council Secretary",
    portfolio: "Procurement & Inventory",
    tier: "secondary",
    avatar: "FO",
    avatarClass: "",
    primary: "Oversee all procurement, supply-chain management, and inventory systems for the Ecosystem. Ensure timely and cost-effective acquisition of goods and services.",
    secondary: "Develop and maintain vendor relationships. Implement e-procurement platforms integrated with the Digital Currency.",
    tertiary: "Conduct regular inventory audits and supply-chain optimisation reviews.",
    keyResponsibilities: [
      "Manage all procurement processes and vendor contracts",
      "Oversee inventory management and supply-chain logistics",
      "Integrate e-procurement with the Kabiru Digital Currency",
      "Conduct regular supply-chain audits and cost analyses",
      "Ensure operational continuity across all portfolios"
    ]
  },
  {
    rank: 12,
    name: "Rabuor Omondi",
    title: "Council Secretary",
    portfolio: "Trade, E-Commerce & Local Community Integration",
    tier: "secondary",
    avatar: "RO",
    avatarClass: "",
    primary: "Develop trade and e-commerce frameworks within the Ecosystem. Lead local community integration ‚Äî ensuring grassroots participation in the new Black Economy.",
    secondary: "Build and manage the TAU digital marketplace. Coordinate with municipal and county governments for community-level rollouts.",
    tertiary: "Design community-incentive programmes that reward adoption of the Digital Currency.",
    keyResponsibilities: [
      "Design trade and e-commerce policy for the TAU Ecosystem",
      "Build and scale the TAU digital marketplace",
      "Lead local community integration and participation programmes",
      "Coordinate with local governments for ground-level rollouts",
      "Create incentive schemes for Digital Currency adoption"
    ]
  },
  {
    rank: 13,
    name: "Karaya Nderitu",
    title: "Council Secretary",
    portfolio: "AI, Tech, Construction & Housing",
    tier: "secondary",
    avatar: "KN",
    avatarClass: "",
    primary: "Lead artificial-intelligence and advanced-technology initiatives for the Ecosystem. Oversee construction and housing development projects that serve ecosystem members.",
    secondary: "Deploy AI tools for ecosystem operations ‚Äî predictive analytics, automation, and smart-infrastructure. Coordinate with the Digital Ecosystem Secretary on tech integration.",
    tertiary: "Develop smart-housing blueprints that incorporate IoT and Digital Currency payment systems.",
    keyResponsibilities: [
      "Lead AI research and technology deployment across the Ecosystem",
      "Oversee construction and affordable-housing programmes",
      "Integrate AI into ecosystem operations and decision-making",
      "Design smart-housing and IoT infrastructure",
      "Coordinate tech strategy with the Digital Ecosystem portfolio"
    ]
  },
  {
    rank: 14,
    name: "Carrilus Otieno",
    title: "Council Secretary",
    portfolio: "Natural Healthcare & Industrial Product Development",
    tier: "secondary",
    avatar: "CO",
    avatarClass: "",
    primary: "Lead natural-healthcare programmes and research within the Ecosystem. Oversee the development of industrial products sourced from natural and local resources.",
    secondary: "Establish healthcare access points and telemedicine integration. Develop product pipelines for the TAU marketplace.",
    tertiary: "Align healthcare and product-development initiatives with the Digital Currency and Sulwe Book documentation.",
    keyResponsibilities: [
      "Design and deliver natural-healthcare programmes",
      "Lead industrial product development from local resources",
      "Integrate telemedicine and digital health into the Ecosystem",
      "Develop product pipelines for the TAU marketplace",
      "Document healthcare and product initiatives in the Sulwe Book"
    ]
  },
  {
    rank: 15,
    name: "Malakhu Makhau",
    title: "Council Secretary",
    portfolio: "Roots, Culture, Entertainment & Hospitality",
    tier: "tertiary",
    avatar: "MM2",
    avatarClass: "",
    primary: "Preserve and celebrate African roots, culture, and heritage within the Ecosystem. Lead entertainment and hospitality sectors as economic pillars of the new Black Economy.",
    secondary: "Organize cultural events, festivals, and heritage programmes. Develop hospitality standards and tourism offerings.",
    tertiary: "Integrate cultural milestones into the Calenda and Sulwe Book. Support local artists and creatives within the Digital Currency economy.",
    keyResponsibilities: [
      "Preserve and celebrate African cultural heritage",
      "Lead entertainment and hospitality economic initiatives",
      "Organise cultural events and festivals",
      "Integrate heritage milestones into Calenda and Sulwe Book",
      "Support local creatives within the Digital Currency ecosystem"
    ]
  },
  {
    rank: 16,
    name: "Robert Owalla",
    title: "Council Secretary",
    portfolio: "Land, Settlement & Real Estate",
    tier: "tertiary",
    avatar: "RO2",
    avatarClass: "",
    primary: "Manage land acquisition, settlement planning, and real-estate development for the Ecosystem. Ensure affordable and sustainable housing for Kabiru community members.",
    secondary: "Develop real-estate investment frameworks that utilise the Digital Currency. Coordinate with the AI & Tech and Construction portfolios.",
    tertiary: "Maintain land-title and settlement records integrated into the Sulwe Book.",
    keyResponsibilities: [
      "Manage land acquisition and settlement planning",
      "Develop real-estate investment and affordability frameworks",
      "Integrate land records into the Sulwe Book digital ledger",
      "Coordinate with Construction & Housing for project delivery",
      "Ensure sustainable and equitable settlement development"
    ]
  },
  {
    rank: 17,
    name: "Chiro Martin",
    title: "Council Secretary",
    portfolio: "Digital & Traditional Publications",
    tier: "tertiary",
    avatar: "CM",
    avatarClass: "",
    primary: "Lead all publication efforts ‚Äî digital and print ‚Äî for the Kabiru Ecosystem. Oversee content creation, editorial standards, and the Sulwe Book publishing programme.",
    secondary: "Develop a publications roadmap aligned with ecosystem milestones. Manage relationships with media houses and digital platforms.",
    tertiary: "Produce newsletters, reports, and public-facing materials that communicate the Ecosystem's progress.",
    keyResponsibilities: [
      "Oversee digital and traditional publications strategy",
      "Lead Sulwe Book publishing and editorial processes",
      "Maintain editorial quality and brand consistency",
      "Coordinate publications with major ecosystem launches",
      "Develop media partnerships and distribution channels"
    ]
  },
  {
    rank: 18,
    name: "James Osteen",
    title: "Council Secretary",
    portfolio: "Community Programmes & Outreach",
    tier: "tertiary",
    avatar: "JS",
    avatarClass: "",
    primary: "Design and execute community programmes that embed the Ecosystem's values at the grassroots level. Lead all outreach, education, and engagement campaigns.",
    secondary: "Coordinate with Trade & E-Commerce and Local Integration portfolios for on-the-ground activation. Develop feedback loops from communities to the Council.",
    tertiary: "Organise town halls, community meetings, and training workshops on the Digital Currency and ecosystem benefits.",
    keyResponsibilities: [
      "Design and run community engagement and outreach programmes",
      "Lead education and awareness campaigns on Digital Currency",
      "Organise community events, town halls, and workshops",
      "Build feedback mechanisms from communities to the Council",
      "Coordinate with Trade and Integration portfolios for grassroots rollout"
    ]
  },
  {
    rank: 19,
    name: "Lorna Mugambi",
    title: "Council Secretary",
    portfolio: "Chief Architect",
    tier: "tertiary",
    avatar: "LM",
    avatarClass: "",
    primary: "Serve as the Chief Architect of the Kabiru Ecosystem ‚Äî designing the structural, spatial, and experiential blueprint for all physical and virtual ecosystem hubs.",
    secondary: "Coordinate with Construction & Housing and AI & Tech on smart-building and IoT integration. Develop design standards for all TAU facilities.",
    tertiary: "Translate the ecosystem's vision into tangible physical and virtual spaces that reflect the culture and values of the new Black Economy.",
    keyResponsibilities: [
      "Design the architectural blueprint for all Ecosystem facilities",
      "Establish design standards and aesthetics for TAU spaces",
      "Integrate smart-building and IoT technologies",
      "Coordinate with Construction and AI & Tech portfolios",
      "Ensure physical and virtual spaces reflect Kabiru's cultural identity"
    ]
  },
  {
    rank: 20,
    name: "Aatene Ndemi",
    title: "Council Secretary",
    portfolio: "Languages & Etymology",
    tier: "tertiary",
    avatar: "AN",
    avatarClass: "",
    primary: "Lead language preservation, documentation, and promotion within the Ecosystem. Research and maintain etymology databases that inform Kabiru branding and cultural identity.",
    secondary: "Develop multilingual communication strategies for the Ecosystem. Coordinate with Publications and Culture portfolios on terminology and naming conventions.",
    tertiary: "Contribute to the Sulwe Book's language and heritage sections. Support translation and localisation of all ecosystem communications.",
    keyResponsibilities: [
      "Preserve and promote African languages within the Ecosystem",
      "Maintain etymology databases and cultural naming conventions",
      "Develop multilingual communication strategies",
      "Contribute language sections to the Sulwe Book",
      "Support translation and localisation across all platforms"
    ]
  }
];

let currentFilter = 'all';

// ========================================================
// RENDER CARDS
// ========================================================
function renderCards(data) {
  const grid = document.getElementById('cards-grid');
  grid.innerHTML = '';
  data.forEach((m, i) => {
    const card = document.createElement('div');
    card.className = 'card reveal';
    card.dataset.tier = m.tier;
    card.dataset.name = m.name.toLowerCase();
    card.dataset.portfolio = m.portfolio.toLowerCase();
    card.style.animationDelay = (i * 0.04) + 's';

    card.innerHTML = `
      <div class="card-header">
        <div class="card-avatar ${m.avatarClass}">${m.avatar.replace(/[0-9]/g,'')}</div>
        <div class="card-info">
          <div class="card-name">${m.name}</div>
          <div class="card-title">${m.title}</div>
          <div class="card-tiers">
            <span class="tier-badge tier-${m.tier}">${m.tier}</span>
          </div>
        </div>
      </div>
      <div class="card-expand">
        <div class="card-expand-inner">
          <h4>Portfolio</h4>
          <p>${m.portfolio}</p>
          <h4>Primary Role</h4>
          <p>${m.primary}</p>
          <h4>Secondary Role</h4>
          <p>${m.secondary}</p>
          <h4>Tertiary Role</h4>
          <p>${m.tertiary}</p>
          <h4>Key Responsibilities</h4>
          <ul>${m.keyResponsibilities.map(r => '<li>'+r+'</li>').join('')}</ul>
        </div>
      </div>
      <div class="card-toggle" onclick="event.stopPropagation()">Show details ‚ñæ</div>
    `;

    card.addEventListener('click', () => {
      card.classList.toggle('open');
      const toggle = card.querySelector('.card-toggle');
      toggle.innerHTML = card.classList.contains('open') ? 'Close ‚ñ¥' : 'Show details ‚ñæ';
    });

    grid.appendChild(card);
    // trigger reveal
    requestAnimationFrame(() => { setTimeout(() => card.classList.add('visible'), 60 + i*40); });
  });
}

// ========================================================
// FILTER & SEARCH CARDS
// ========================================================
function setFilter(tier, btn) {
  currentFilter = tier;
  document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
  btn.classList.add('active');
  applyCardFilter();
}

function filterCards() {
  applyCardFilter();
}

function applyCardFilter() {
  const q = document.getElementById('card-search').value.toLowerCase();
  let data = council;
  if (currentFilter !== 'all') data = data.filter(m => m.tier === currentFilter);
  if (q) data = data.filter(m => m.name.toLowerCase().includes(q) || m.portfolio.toLowerCase().includes(q));
  renderCards(data);
}

// ========================================================
// RENDER TABLE
// ========================================================
function renderTable(data) {
  const tbody = document.getElementById('registry-body');
  tbody.innerHTML = '';
  data.forEach(m => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="td-rank">${m.rank}</td>
      <td class="td-name">${m.name}</td>
      <td class="td-portfolio">${m.portfolio}</td>
      <td class="td-portfolio">${m.title}</td>
      <td class="td-tier"><span class="tier-badge tier-${m.tier}">${m.tier}</span></td>
    `;
    tbody.appendChild(tr);
  });
}

function filterTable() {
  const q = document.getElementById('table-search').value.toLowerCase();
  const data = council.filter(m =>
    m.name.toLowerCase().includes(q) ||
    m.portfolio.toLowerCase().includes(q) ||
    m.title.toLowerCase().includes(q)
  );
  renderTable(data);
}

// Sort table by column
let sortDir = {};
function sortTable(col) {
  sortDir[col] = sortDir[col] === 'asc' ? 'desc' : 'asc';
  const q = document.getElementById('table-search').value.toLowerCase();
  let data = council.filter(m =>
    m.name.toLowerCase().includes(q) ||
    m.portfolio.toLowerCase().includes(q) ||
    m.title.toLowerCase().includes(q)
  );
  const keys = ['rank','name','portfolio','title','tier'];
  data.sort((a,b) => {
    let va = String(a[keys[col]]).toLowerCase();
    let vb = String(b[keys[col]]).toLowerCase();
    if (keys[col]==='rank') { va=a.rank; vb=b.rank; }
    let cmp = va < vb ? -1 : va > vb ? 1 : 0;
    return sortDir[col]==='asc' ? cmp : -cmp;
  });
  renderTable(data);
}

// ========================================================
// NAV SCROLL
// ========================================================
function scrollTo(id) {
  document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ========================================================
// SCROLL REVEAL
// ========================================================
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
}, { threshold: 0.12 });

function observeReveals() {
  document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));
}

// ========================================================
// PDF GENERATION
// ========================================================
function buildPDFCapture() {
  const container = document.getElementById('pdf-capture');

  // --- PAGE 1: Cover + Stones + Tier Structure ---
  let p1 = `<div class="pdf-page">
    <div class="pdf-header">
      <h1>KABIRU EXECUTIVE COUNCIL</h1>
      <p>TAU Africa Digital Ecosystem ¬∑ Leadership Registry</p>
    </div>
    <div class="pdf-stones">
      <div class="pdf-stone"><h3>üíé Digital Currency</h3><p>Kabiru Digital Value Currency ‚Äî the financial backbone of the new Black Economy</p></div>
      <div class="pdf-stone"><h3>üìñ Sulwe Book</h3><p>The Knowledge & Heritage Record of the Ecosystem</p></div>
      <div class="pdf-stone"><h3>üìÖ Calenda</h3><p>Cultural Calendar & Strategic Planning Engine</p></div>
    </div>
    <h2 class="pdf-section-title">Tier Structure</h2>
    <table>
      <thead><tr><th>Tier</th><th>Designation</th><th>Scope</th><th>Count</th></tr></thead>
      <tbody>
        <tr><td><span class="pdf-tier exec">Executive</span></td><td>Executive Leader & Chair</td><td>Supreme oversight, vision, and final authority.</td><td><b>2</b></td></tr>
        <tr><td><span class="pdf-tier pri">Primary</span></td><td>General Secretary & Core Secretaries</td><td>Lead critical operational portfolios; direct reports to Executive tier.</td><td><b>6</b></td></tr>
        <tr><td><span class="pdf-tier sec">Secondary</span></td><td>Operational Secretaries</td><td>Oversee specialised portfolios; implement Primary-tier directives.</td><td><b>7</b></td></tr>
        <tr><td><span class="pdf-tier ter">Tertiary</span></td><td>Support & Specialist Secretaries</td><td>Focused specialist roles; ground-level execution and community engagement.</td><td><b>5</b></td></tr>
      </tbody>
    </table>
    <div class="pdf-footer">Kabiru Executive Council ¬∑ TAU Africa Digital Ecosystem ¬∑ Page 1 of 3</div>
  </div>`;

  // --- PAGE 2: Full Registry Table ---
  let rows = council.map(m => `<tr>
    <td><b>${m.rank}</b></td>
    <td><b>${m.name}</b></td>
    <td>${m.title}</td>
    <td>${m.portfolio}</td>
    <td><span class="pdf-tier ${m.tier==='executive'?'exec':m.tier==='primary'?'pri':m.tier==='secondary'?'sec':'ter'}">${m.tier}</span></td>
  </tr>`).join('');

  let p2 = `<div class="pdf-page">
    <div class="pdf-header">
      <h1>KABIRU EXECUTIVE COUNCIL</h1>
      <p>Full Council Registry</p>
    </div>
    <h2 class="pdf-section-title">Complete Member Registry</h2>
    <table>
      <thead><tr><th>#</th><th>Name</th><th>Title</th><th>Portfolio</th><th>Tier</th></tr></thead>
      <tbody>${rows}</tbody>
    </table>
    <div class="pdf-footer">Kabiru Executive Council ¬∑ TAU Africa Digital Ecosystem ¬∑ Page 2 of 3</div>
  </div>`;

  // --- PAGE 3: Detailed Roles ---
  let detailRows = council.map(m => `
    <tr>
      <td><b>${m.rank}. ${m.name}</b><br/><span style="font-size:10px;color:#888;">${m.title} ‚Äî ${m.portfolio}</span></td>
      <td>${m.primary}</td>
      <td>${m.secondary}</td>
      <td>${m.tertiary}</td>
    </tr>
  `).join('');

  let p3 = `<div class="pdf-page">
    <div class="pdf-header">
      <h1>KABIRU EXECUTIVE COUNCIL</h1>
      <p>Detailed Role Descriptions</p>
    </div>
    <h2 class="pdf-section-title">Primary, Secondary & Tertiary Roles</h2>
    <table style="font-size:10.5px;">
      <thead><tr><th style="width:22%">Member</th><th style="width:26%">Primary Role</th><th style="width:26%">Secondary Role</th><th style="width:26%">Tertiary Role</th></tr></thead>
      <tbody>${detailRows}</tbody>
    </table>
    <div class="pdf-footer">Kabiru Executive Council ¬∑ TAU Africa Digital Ecosystem ¬∑ Page 3 of 3</div>
  </div>`;

  container.innerHTML = p1 + p2 + p3;
}

async function generatePDF() {
  const status = document.getElementById('pdf-status');
  status.textContent = '‚è≥ Preparing PDF‚Ä¶ please wait.';
  status.style.color = 'var(--gold)';

  buildPDFCapture();
  await new Promise(r => setTimeout(r, 300));

  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF({ orientation: 'portrait', unit: 'mm', format: 'a4' });
  const pages = document.querySelectorAll('#pdf-capture .pdf-page');
  const pageW = 210, pageH = 297;

  for (let i = 0; i < pages.length; i++) {
    if (i > 0) pdf.addPage();
    status.textContent = `‚è≥ Rendering page ${i+1} of ${pages.length}‚Ä¶`;

    const canvas = await html2canvas(pages[i], {
      scale: 2.2,
      useCORS: true,
      backgroundColor: '#ffffff',
      logging: false
    });
    const imgData = canvas.toDataURL('image/jpeg', 0.92);
    const imgW = pageW;
    const imgH = (canvas.height * imgW) / canvas.width;

    // If image is taller than page, scale it down
    if (imgH <= pageH) {
      pdf.addImage(imgData, 'JPEG', 0, 0, imgW, imgH);
    } else {
      const scale = pageH / imgH;
      pdf.addImage(imgData, 'JPEG', 0, 0, imgW * scale, pageH);
    }
  }

  pdf.save('Kabiru_Executive_Council_Registry.pdf');
  status.textContent = '‚úÖ PDF downloaded successfully!';
  status.style.color = 'var(--teal)';
  setTimeout(() => { status.textContent = ''; }, 4000);
}

// ========================================================
// INIT
// ========================================================
(function init() {
  renderCards(council);
  renderTable(council);
  observeReveals();
  // also observe static reveals
  document.querySelectorAll('.reveal').forEach(el => {
    if (el.getBoundingClientRect().top < window.innerHeight) el.classList.add('visible');
  });
})();
</script>
</body>
</html>
